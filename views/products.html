<!--Ürünler sayfası için meta bilgiler, fontlar, ikonlar ve stil dosyaları-->
<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>Ürünler | SHINORA</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet" href="/css/products.css">
</head>

<body>

<!--NAVBAR-->
<nav class="navbar navbar-expand-lg navbar-dark shinora-navbar fixed-top">
  <div class="container-fluid px-lg-5 d-flex flex-column"> 
  <div class="row w-100 align-items-center mb-4">
  <div class="col-4 d-flex justify-content-start">
  <a class="navbar-brand shinora-logo-text shinora-logo" href="/">SHINORA<span class="logo-sparkle">✦</span></a>
  </div>

<div class="col-4 d-flex justify-content-center">
  <form action="/products" method="GET" class="search-wrapper w-100" style="max-width: 320px;" id="searchForm">
  <input type="text" name="search" id="searchInput" class="shinora-search-input" autocomplete="off">
  <i class="fas fa-search" id="searchIcon" onclick="document.getElementById('searchForm').submit();"></i>
  </form>
</div>

<div class="col-4 d-flex justify-content-end align-items-center gap-3">
    <a href="/#about" class="nav-icon" title="Hakkımızda"><i class="fas fa-gem"></i></a>
    <a href="/contact" class="nav-icon" title="İletişim"><i class="fas fa-envelope"></i></a>
    <a href="/sepet" class="nav-icon position-relative" title="Sepetim"><i class="fas fa-shopping-bag"></i>
    <span id="cartCount" class="badge rounded-pill position-absolute" style="top: -5px; right: -5px;">0</span></a>
    <a href="/admin" class="nav-icon" title="Yönetim Paneli"><i class="fas fa-user-shield"></i> </a>
</div>

    <div class="collapse navbar-collapse show w-100">
      <ul class="navbar-nav mx-auto flex-row gap-5">
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="/products?type=Bileklik">Bileklik</a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="/products?type=Bileklik&material=Altın">Altın Bileklik</a></li>
            <li><a class="dropdown-item" href="/products?type=Bileklik&material=Gümüş">Gümüş Bileklik</a></li>
          </ul>
        </li>

        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="/products?type=Kolye">Kolye</a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="/products?type=Kolye&material=Altın">Altın Kolye</a></li>
            <li><a class="dropdown-item" href="/products?type=Kolye&material=Gümüş">Gümüş Kolye</a></li>
          </ul>
        </li>

        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="/products?type=Yüzük">Yüzük</a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="/products?type=Yüzük&material=Altın">Altın Yüzük</a></li>
            <li><a class="dropdown-item" href="/products?type=Yüzük&material=Pırlanta">Pırlanta Yüzük</a></li>
          </ul>
        </li>

        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="/products?type=Küpe">Küpe</a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="/products?type=Küpe&material=Altın">Altın Küpe</a></li>
            <li><a class="dropdown-item" href="/products?type=Küpe&material=Gümüş">Gümüş Küpe</a></li>
          </ul>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="/products?type=Saat">Saat</a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<!--Sabit navbar nedeniyle oluşan üst boşluğu dengelemek için boşluk alanı-->
<div class="navbar-spacer" style="height: 70px;"></div>

<!--Ürünler listesi alanı-->
<div class="container mt-5 pt-5">
  <h2 class="shinora-page-title">Ürünlerimiz</h2>
  <div class="row" id="productList"></div>
</div>

<!--Ürünler sayfası JavaScript dosyası ve Bootstrap JS bağlantısı-->
<script src="/js/products.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<!--Navbar aktif link kontrolü,arama alanı etkileşimi ve sepet sayacı güncelleme-->
<script>
  document.querySelectorAll('.nav-link').forEach(link => {
    if (link.getAttribute('href') !== window.location.pathname) {
        link.classList.remove('active');
    } else {
        link.classList.add('active');
    }
  });

  const searchIcon = document.getElementById('searchIcon');
  const searchInput = document.getElementById('searchInput');

  if (searchIcon && searchInput) {
    searchIcon.addEventListener('click', () => {
      searchInput.classList.toggle('active');
      if (searchInput.classList.contains('active')) {
          searchInput.focus();
      } else if (searchInput.value.trim() !== "") {
          window.location.href = "/products?search=" + encodeURIComponent(searchInput.value);
      }
    });

    searchInput.addEventListener("keypress", (e) => {
      if (e.key === "Enter" && searchInput.value.trim() !== "") {
        window.location.href = "/products?search=" + encodeURIComponent(searchInput.value);
      }
    });
  }
  function updateCartCount() {
    const cart = JSON.parse(localStorage.getItem("cart") || "[]");
    const countElement = document.getElementById("cartCount");
    if (countElement) {
      countElement.innerText = cart.length;
    }
  }
  updateCartCount();
</script>

</body>
</html>